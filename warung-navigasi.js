!function(r){function u(e,t){let n=r.createElement("input");n.setAttribute("type","text"),n.setAttribute("name","url"+t),n.setAttribute("placeholder","URL (pakai https://)"),n.setAttribute("class","url"+t);let l=r.createElement("input");l.setAttribute("type","text"),l.setAttribute("name",t+"name"),l.setAttribute("placeholder","nama "+t),l.setAttribute("class",t+"name");let u=r.createElement("span");u.setAttribute("class","remove"+t),u.innerText="X",e.appendChild(n),e.appendChild(l),e.appendChild(u)}r.getElementById("addfield").addEventListener("click",function(){let e=r.getElementById("menu-input-field"),t=r.createElement("div");t.setAttribute("class","parrent-menu-outer");let n=r.createElement("div");n.setAttribute("class","parrent-menu"),u(n,"menu");let l=r.createElement("input");l.setAttribute("class","addsubmenu"),l.setAttribute("type","button"),l.setAttribute("name","submenu"),l.setAttribute("value","+ tambah submenu"),t.appendChild(n),t.appendChild(l),e.appendChild(t)}),r.getElementById("menu-input-field").addEventListener("click",function(t){let n=r.createElement("div");if(n.setAttribute("class","submenu-menu"),u(n,"submenu"),"addsubmenu"==(t=t.target).className){let e=t.parentElement;e.lastElementChild.parentNode.insertBefore(n,e.lastElementChild)}}),r.getElementById("menu-input-field").addEventListener("click",function(e){let t=e.target;"removemenu"==t.className?t.parentElement.parentElement.remove():"removesubmenu"==t.className&&t.parentElement.remove()}),r.getElementById("submit").addEventListener("click",function(){let e=r.getElementById("menu-input-field"),t=e.querySelectorAll(".parrent-menu-outer"),n="";for(i=0;i<t.length;i++){let e=t[i].querySelector(".parrent-menu");var l=t[i].querySelectorAll(".submenu-menu");var u=function(e,t,n){var l="";let u=""!=e.value?e.value:"#",r=""!=t.value?t.value:"Menu";return n=n[0]?'<li class="has-sub">':"<li>",r=r.replace(/(<([^>]+)>)/gi,""),l+=n,l+='<a href="'+u.replace(/\s/g,"%20")+'">'+r+"</a>"}(e.firstElementChild,e.querySelector(".menuname"),l),l=function(l){if(l[0]){let e,t,n="\n\t<ul>";for(x=0;x<l.length;x++)e=l[x].querySelector(".urlsubmenu").value,t=l[x].querySelector(".submenuname").value,e=""!=e?e:"#",t=""!=t?t:"SubMenu",t=t.replace(/(<([^>]+)>)/gi,""),n+='\n\t<li><a href="'+e.replace(/\s/g,"%20")+'">'+t+"</a></li>";return n+="\n\t</ul>\n"}return""}(l);n+=u+l+"</li>\n"}r.getElementById("htmloutput").value=n})}(document);